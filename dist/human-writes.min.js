(()=>{var t={363:(t,e,s)=>{const n=s(480),r=s(925),i=s(790);t.exports={Decomposer:n,Component:r,Writer:i}},925:t=>{class e extends HTMLElement{constructor(){super()}static get observeAttributes(){return["source","speed","depends-on-selector","make-mistakes","styles","classes","finished"]}get source(){return this.getAttribute("source")??null}get speed(){return this.getAttribute("speed")??60}get dependsOnSelector(){return this.getAttribute("depends-on-selector")??null}get makeMistakes(){return"true"===(this.getAttribute("make-mistakes")??"").toLowerCase()}get styles(){return this.getAttribute("styles")??null}get classes(){return this.getAttribute("classes")??null}get finished(){return this.getAttribute("finished")??null}get restart(){return this.getAttribute("restart")??null}async connectedCallback(){if(null!==this.styles&&null!==this.classes&&(this.styles.split(",").forEach((t=>{const e=document.createElement("style");e.innerHTML=`@import "${t}"`,this.shadowRoot.appendChild(e)})),this.shadowRoot.getElementById("to-write").setAttribute("class",this.classes)),null!==this.dependsOnSelector){const t=document.querySelector(this.dependsOnSelector);if(void 0!==t&&("TEXT-WRITER"===t.tagName||"CODE-WRITER"===t.tagName)){const e={attributes:!0};new MutationObserver(((e,s)=>{for(const n of e)"attributes"===n.type&&"finished"===n.attributeName&&t.finished&&(s.disconnect(),this.writeLikeAHuman())})).observe(t,e)}}else this.writeLikeAHuman()}writeLikeAHuman(){}}t.exports=e},480:t=>{const e="&lt;",s="&gt;";t.exports=class{#t=[];#e="";#s="";#n=[];#r=[];#i=[];#l=[];#o=[];#a=[];constructor(t,e=!1){this.#e=t.trim(),this.#s=`${this.#e}\n<Eof />`,this.protect(),e&&this.markupQuotes(),this.collectWords(this.#s),this.makeMistakes()}get list(){return this.#t}get text(){return this.#e}get workingText(){return this.#s}get words(){return this.#n}get mistakes(){return this.#o}get mistakeCursors(){return this.#a}get phraseStarts(){return this.#r}get phraseLengths(){return this.#i}get wordEnds(){return this.#l}#h(){return Date.now()*Math.random()}translateBracket(t,e,s=!1){let n=t,r=!1;return"CDETQRG".includes(e)&&("C"===e&&(n=s?")":"(",r=!0),"D"===e&&(n=s?"}}":"{{",r=!0),"E"===e&&(n=s?"}":"{",r=!0),"T"===e&&(n=s?"]":"[",r=!0),"Q"===e&&(n="'",r=!0),"R"===e&&(n='"',r=!0),"G"===e&&(n="`",r=!0)),{word:n,translated:r}}markupQuotes(){let t=this.#s;const e=/(["'`])((\s|((\\)*)\\.|.)*?)\1/gm;let s;const n=[];for(;null!==(s=e.exec(t));)s.index===e.lastIndex&&e.lastIndex++,n.push(s);for(let e=n.length-1;e>-1;e--){const s=n[e],r=s[1],i=s[0];let l=s[2];const o=s.index+1,a=o+i.length-1;let h="";'"'===r?h="R":"'"===r?h="Q":"`"===r&&(h="G"),l=l.replace(/&lt;/g,"&pp;"),l=l.replace(/&gt;/g,"&pg;");const g=`&oq;${h}&cq;${l}&oq;/${h}&cq;`,c=t.substring(0,o-1),u=t.substring(a);t=c+g+u}this.#s=t}doAttributes(t){const e={},s=/([\w]*)(\[\])?=("([\S ][^"]*)"|'([\S]*)'|\{\{ ([\w]*) \}\}|\{([\S ]*)\})/gm;let n;const r=[];for(;null!==(n=s.exec(t));)n.index===s.lastIndex&&s.lastIndex++,r.push(n);for(let t=0;t<r.length;t++){const s=r[t],n=s[1],i=s[2],l=s[3].substring(0,1),o=s[4];"[]"===i?(void 0===e[n]&&(e[n]=[]),e[n].push(l+o)):e[n]=`${l}${o}`}return e}isClosedTag(t){let e=!1;const{text:n}=t;return""===n||(e=n.substring(n.length-5,n.length)==="/"+s),e}isCloserTag(t){let s=!1;const{text:n}=t;return""===n||(s=n.substring(0,5)===e+"/"),s}makeTag(t,e,s,n,r=!1){const{text:i}=t,{name:l}=t,o=this.list.length,a={};return a.id=t.id,a.name=""===l?"Fragment":l,a.text=i,a.startsAt=t.startsAt,a.endsAt=t.endsAt,r||(a.uid=this.#h,a.method="echo",a.props=(a.name,[]),a.depth=s,a.hasCloser=n,a.node=!1,a.isSingle=!1),void 0!==e[s]&&null!==e[s]||(e[s]=o-1),a.parentId=e[s],a}protect(){let t=this.#s;t=t.trim(),t=t.replace(/\{\{/g,"<D>"),t=t.replace(/\}\}/g,"</D>"),t=t.replace(/\(/g,"<C>"),t=t.replace(/\)/g,"</C>"),t=t.replace(/\{/g,"<E>"),t=t.replace(/\}/g,"</E>"),t=t.replace(/\[/g,"<T>"),t=t.replace(/\]/g,"</T>"),t=t.replace(/<([/\w])/g,`${e}$1`),t=t.replace(/>/g,s),this.#s=t}collectTags(t,n="[\\w]+"){const r=[],i=[],l=new RegExp(`${e}\\/?(${n})((\\s|.*?)*?)\\/?${s}`,"gm");let o;for(;null!==(o=l.exec(t));)o.index===l.lastIndex&&l.lastIndex++,i.push(o);let a=0;return i.forEach((t=>{const e=t;e.id=a,e.text=t[0],e.name=null===t[1]?"Fragment":t[1],e.startsAt=t.index,e.endsAt=t.index+e.text.length-1,delete e[0],delete e[1],delete e[2],delete e[3],r.push(e),a++})),r}collectWords(t){const e=[],s=[];let n,r=/([&oqpg;]{4})[\w /]+([&cqpp;]{4})/gm;for(;null!==(n=r.exec(t));)n.index===r.lastIndex&&r.lastIndex++,s.push(n);let i=t;for(let t=s.length-1;t>-1;t--){const e=s[t][0],n=s[t].index+1,r=n+e.length-1,l="•".repeat(e.length),o=i.substring(0,n-1),a=i.substring(r);i=o+l+a}for(r=/([&lt;]{4})[\w /]+([&gt;]{4})/gm;null!==(n=r.exec(i));)n.index===r.lastIndex&&r.lastIndex++,s.push(n);for(let t=s.length-1;t>-1;t--){const e=s[t][0],n=s[t].index+1,r=n+e.length-1,l="•".repeat(e.length),o=i.substring(0,n-1),a=i.substring(r);i=o+l+a}for(r=/([&ltgt;]{4})/gm;null!==(n=r.exec(i));)n.index===r.lastIndex&&r.lastIndex++,s.push(n);for(let t=s.length-1;t>-1;t--){const e=s[t][0],n=s[t].index+1,r=n+e.length-1,l="•".repeat(e.length),o=i.substring(0,n-1),a=i.substring(r);i=o+l+a}for(r=/((?!•)\S[^•\n]*)/g;null!==(n=r.exec(i));)n.index===r.lastIndex&&r.lastIndex++,this.#r.push(n.index),this.#i.push(n[0].length);for(r=/((?!•)\S[^•\n ]*)/g;null!==(n=r.exec(i));){n.index===r.lastIndex&&r.lastIndex++;const t={};t.text=n[0],t.startsAt=n.index,t.endsAt=t.startsAt+n[0].length-1,e.push(t),this.#l.push(t.endsAt)}this.#n=e}makeMistakes(){let t=Math.ceil(2*Math.random())-2;const e=Math.ceil(3*Math.random())+2;this.#n.forEach((s=>{if(t++,t%e!=0||s.text.length<4)return;const n=Math.ceil(Math.random()*s.text.length)-1,r=String.fromCharCode(Math.ceil(26*Math.random())+96);this.#a.push(s.startsAt+n),this.#o.push(r)}))}makeFaultyText(){let t=this.#s;this.#o.forEach((e=>{const s=t.substring(0,e.startsAt),n=t.substring(e.endsAt+1);t=s+e.text+n})),this.#s=t}splitTags(t){let e=[...t],s=e.length,n=0,r=!1,i=0;const l=s;let o=!1;const a=[],h=[];for(;e.length>0&&!r&&!o;){if(n===s){if(n=0,e=Object.values(e),s=e.length,0===s){r=!0;continue}i++,o=i>l+1}const t=e[n];if(1!==e.length||"Eof"!==t.name)if(this.isClosedTag(t)&&"Eof"!==t.name)h[n]=e[n],delete e[n],n++;else{if(n+1<s){const s=e[n+1];if(!this.isCloserTag(t)&&this.isCloserTag(s)){if(t.name!==s.name){a.push(t),delete e[n],n++;continue}h[n]=e[n],h[n+1]=e[n+1],delete e[n],delete e[n+1],n+=2;continue}}n++}else r=!0}return{regularTags:h,singleTags:a}}replaceTags(t,e){let n=t,r=e;const i=[];e.forEach((t=>{i[t.id]=t})),i.sort(),r=Object.values(i);for(let t=r.length-1;t>-1;t--){const e=r[t];e.text=e.text.substring(0,e.text.length-4)+"/"+s;const i=n.substring(0,e.startsAt),l=n.substring(e.endsAt+1);n=i+e.text+l}return n}doComponents(t="[\\w]+"){let e=this.#s;const s=this.collectTags(e,t),n=[];let r=[],i=0;const l=[];let o=s.length,a=0,h=!1,g=0;const c=o;let u=!1;l[i]=-1;const{singleTags:d}=this.splitTags(s);let p=s;for(d.length&&(d.forEach((t=>n.push(t.id))),e=this.replaceTags(e,d),p=this.collectTags(e,t));p.length>0&&!h&&!u;){if(a===o){if(a=0,p=Object.values(p),o=p.length,0===o){h=!0;continue}g++,u=g>c+1}const t=p[a];if(1!==p.length||"Eof"!==t.name)if(this.isClosedTag(t)&&"Eof"!==t.name){const e=this.makeTag(t,l,i,!1);e.isSingle=n.includes(t.id),r[e.id]=e,delete p[a],a++}else{if(this.isCloserTag(t)&&i--,a+1<o){const s=p[a+1];if(!this.isCloserTag(t)&&this.isCloserTag(s)){const n=this.makeTag(t,l,i,!0),o=this.makeTag(s,l,i,!1,!0);o.contents={},o.parentId=n.id,o.contents.startsAt=n.endsAt+1,o.contents.endsAt=o.startsAt;const h=e.substring(o.contents.startsAt,o.contents.endsAt);o.contents.text=h,n.closer=o,r[n.id]=n,delete p[a],delete p[a+1],a+=2;continue}this.isCloserTag(t)||this.isCloserTag(s)||(i++,l[i]=t.id)}a++}else h=!0}r=Object.values(r),this.#s=e,this.#t=r}}},790:(t,e,s)=>{s(480),t.exports=Writer}},e={};!function s(n){var r=e[n];if(void 0!==r)return r.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,s),i.exports}(363)})();